<!DOCTYPE html>
<html>

<head>
<title>MIDI Monitor test</title>
</head>
<script src="../../../polyfills/webcomponents-lite.js"></script>

<script src="../../../sdk/WebAudioSDK.js"></script>
<script src="../JZZ/JZZ.js"></script>
<script src="main.js"></script>

<body>
<div><button onclick='sendtestmsg();'>Random note</button></div>
</body>

<script>
  var ctx = new AudioContext();
  var loggr = new JazzSoftMidiMonitor(ctx, '.');
  function sendtestmsg() {
    var note = Math.floor(Math.random() * 128);
    var chan = Math.floor(Math.random() * 16);
    loggr.plug.widget.note(chan, note, 127, 200);
  }

  loggr.load().then((plug) => {
    loggr.loadGui().then((elem) => { document.body.appendChild(elem); });
  });
</script>

</html>